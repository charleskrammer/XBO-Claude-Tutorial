"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/dashboard/kpis/route";
exports.ids = ["app/api/dashboard/kpis/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Fkpis%2Froute&page=%2Fapi%2Fdashboard%2Fkpis%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fkpis%2Froute.ts&appDir=%2FUsers%2Fcharleskr%2FDesktop%2FXBO%2FAI-Plateforme%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcharleskr%2FDesktop%2FXBO%2FAI-Plateforme&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Fkpis%2Froute&page=%2Fapi%2Fdashboard%2Fkpis%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fkpis%2Froute.ts&appDir=%2FUsers%2Fcharleskr%2FDesktop%2FXBO%2FAI-Plateforme%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcharleskr%2FDesktop%2FXBO%2FAI-Plateforme&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_charleskr_Desktop_XBO_AI_Plateforme_src_app_api_dashboard_kpis_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/dashboard/kpis/route.ts */ \"(rsc)/./src/app/api/dashboard/kpis/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/dashboard/kpis/route\",\n        pathname: \"/api/dashboard/kpis\",\n        filename: \"route\",\n        bundlePath: \"app/api/dashboard/kpis/route\"\n    },\n    resolvedPagePath: \"/Users/charleskr/Desktop/XBO/AI-Plateforme/src/app/api/dashboard/kpis/route.ts\",\n    nextConfigOutput,\n    userland: _Users_charleskr_Desktop_XBO_AI_Plateforme_src_app_api_dashboard_kpis_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/dashboard/kpis/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkYXNoYm9hcmQlMkZrcGlzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZkYXNoYm9hcmQlMkZrcGlzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZGFzaGJvYXJkJTJGa3BpcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmNoYXJsZXNrciUyRkRlc2t0b3AlMkZYQk8lMkZBSS1QbGF0ZWZvcm1lJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmNoYXJsZXNrciUyRkRlc2t0b3AlMkZYQk8lMkZBSS1QbGF0ZWZvcm1lJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM4QjtBQUMzRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRyYWluaW5nLXBvcnRhbC8/YzcxMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvY2hhcmxlc2tyL0Rlc2t0b3AvWEJPL0FJLVBsYXRlZm9ybWUvc3JjL2FwcC9hcGkvZGFzaGJvYXJkL2twaXMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Rhc2hib2FyZC9rcGlzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZGFzaGJvYXJkL2twaXNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2Rhc2hib2FyZC9rcGlzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2NoYXJsZXNrci9EZXNrdG9wL1hCTy9BSS1QbGF0ZWZvcm1lL3NyYy9hcHAvYXBpL2Rhc2hib2FyZC9rcGlzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9kYXNoYm9hcmQva3Bpcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Fkpis%2Froute&page=%2Fapi%2Fdashboard%2Fkpis%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fkpis%2Froute.ts&appDir=%2FUsers%2Fcharleskr%2FDesktop%2FXBO%2FAI-Plateforme%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcharleskr%2FDesktop%2FXBO%2FAI-Plateforme&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/dashboard/kpis/route.ts":
/*!*********************************************!*\
  !*** ./src/app/api/dashboard/kpis/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var _lib_session__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/session */ \"(rsc)/./src/lib/session.ts\");\n/* harmony import */ var _lib_scoring__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/scoring */ \"(rsc)/./src/lib/scoring.ts\");\n/* harmony import */ var _lib_scoring_server__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/scoring/server */ \"(rsc)/./src/lib/scoring/server.ts\");\n\n\n\n\n\nasync function GET() {\n    const user = await (0,_lib_session__WEBPACK_IMPORTED_MODULE_2__.getSessionUser)();\n    if (!user) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: \"Unauthorized\"\n    }, {\n        status: 401\n    });\n    // --- Personal stats (latest attempt per quiz only) ---\n    const allAttempts = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.quizAttempt.findMany({\n        where: {\n            userId: user.id,\n            completedAt: {\n                not: null\n            }\n        },\n        orderBy: {\n            completedAt: \"asc\"\n        }\n    });\n    const latest = (0,_lib_scoring_server__WEBPACK_IMPORTED_MODULE_4__.latestAttemptsPerQuiz)(allAttempts);\n    const totalScore = (0,_lib_scoring_server__WEBPACK_IMPORTED_MODULE_4__.sumScore)(latest);\n    const quizzesCompleted = new Set(allAttempts.map((a)=>a.quizId)).size;\n    const totalCorrect = latest.reduce((s, a)=>s + a.correctAnswers, 0);\n    const totalAnswered = latest.reduce((s, a)=>s + a.totalQuestions, 0);\n    const accuracy = totalAnswered > 0 ? Math.round(totalCorrect / totalAnswered * 100) : 0;\n    // --- Streak (work-week, login-based) ---\n    const sessions = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.session.findMany({\n        where: {\n            userId: user.id\n        },\n        select: {\n            createdAt: true\n        },\n        orderBy: {\n            createdAt: \"desc\"\n        }\n    });\n    const loginDays = new Set(sessions.map((s)=>s.createdAt.toDateString()));\n    let streak = 0;\n    const today = new Date();\n    for(let i = 0; i < 365; i++){\n        const d = new Date(today);\n        d.setDate(d.getDate() - i);\n        const dow = d.getDay();\n        if (dow === 0 || dow === 6) continue;\n        if (loginDays.has(d.toDateString())) {\n            streak++;\n        } else {\n            break;\n        }\n    }\n    // --- Company-wide ranking (latest attempt per quiz, per user) ---\n    const allUsers = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.user.findMany({\n        select: {\n            id: true,\n            externalId: true,\n            name: true\n        }\n    });\n    // Fetch all completed attempts for all users in one query\n    const allUserAttempts = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.quizAttempt.findMany({\n        where: {\n            completedAt: {\n                not: null\n            }\n        },\n        select: {\n            userId: true,\n            quizId: true,\n            completedAt: true,\n            scoreEarned: true,\n            correctAnswers: true,\n            totalQuestions: true\n        },\n        orderBy: {\n            completedAt: \"asc\"\n        }\n    });\n    // Group by userId, then compute latest-per-quiz score for each\n    const attemptsByUser = new Map();\n    for (const a of allUserAttempts){\n        if (!attemptsByUser.has(a.userId)) attemptsByUser.set(a.userId, []);\n        attemptsByUser.get(a.userId).push(a);\n    }\n    const userScoreMap = new Map();\n    for (const u of allUsers){\n        const userAttempts = attemptsByUser.get(u.id) ?? [];\n        userScoreMap.set(u.id, (0,_lib_scoring_server__WEBPACK_IMPORTED_MODULE_4__.sumScore)((0,_lib_scoring_server__WEBPACK_IMPORTED_MODULE_4__.latestAttemptsPerQuiz)(userAttempts)));\n    }\n    const allScoresComplete = allUsers.map((u)=>userScoreMap.get(u.id) ?? 0);\n    const myScore = userScoreMap.get(user.id) ?? 0;\n    const rank = (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_3__.computeRankPosition)(myScore, allScoresComplete);\n    const total = allUsers.length;\n    const percentile = (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_3__.computePercentile)(myScore, allScoresComplete);\n    const grade = (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_3__.computeGrade)(percentile);\n    // --- Top 10 leaderboard ---\n    const top10 = allUsers.map((u)=>({\n            id: u.externalId,\n            name: u.name,\n            score: userScoreMap.get(u.id) ?? 0\n        })).sort((a, b)=>b.score - a.score).slice(0, 10).map((entry, idx)=>({\n            ...entry,\n            position: idx + 1\n        }));\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        totalScore,\n        quizzesCompleted,\n        accuracy,\n        streak,\n        rank,\n        total,\n        percentile,\n        grade,\n        top10\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9kYXNoYm9hcmQva3Bpcy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkM7QUFDYjtBQUNpQjtBQUNzQztBQUNkO0FBRWhFLGVBQWVRO0lBQ3BCLE1BQU1DLE9BQU8sTUFBTVAsNERBQWNBO0lBQ2pDLElBQUksQ0FBQ08sTUFBTSxPQUFPVCxxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDO1FBQUVDLE9BQU87SUFBZSxHQUFHO1FBQUVDLFFBQVE7SUFBSTtJQUU3RSx3REFBd0Q7SUFDeEQsTUFBTUMsY0FBYyxNQUFNWix1Q0FBRUEsQ0FBQ2EsV0FBVyxDQUFDQyxRQUFRLENBQUM7UUFDaERDLE9BQU87WUFBRUMsUUFBUVIsS0FBS1MsRUFBRTtZQUFFQyxhQUFhO2dCQUFFQyxLQUFLO1lBQUs7UUFBRTtRQUNyREMsU0FBUztZQUFFRixhQUFhO1FBQU07SUFDaEM7SUFFQSxNQUFNRyxTQUFTaEIsMEVBQXFCQSxDQUFDTztJQUVyQyxNQUFNVSxhQUFhaEIsNkRBQVFBLENBQUNlO0lBQzVCLE1BQU1FLG1CQUFtQixJQUFJQyxJQUFJWixZQUFZYSxHQUFHLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRUMsTUFBTSxHQUFHQyxJQUFJO0lBQ3ZFLE1BQU1DLGVBQWVSLE9BQU9TLE1BQU0sQ0FBQyxDQUFDQyxHQUFHTCxJQUFNSyxJQUFJTCxFQUFFTSxjQUFjLEVBQUU7SUFDbkUsTUFBTUMsZ0JBQWdCWixPQUFPUyxNQUFNLENBQUMsQ0FBQ0MsR0FBR0wsSUFBTUssSUFBSUwsRUFBRVEsY0FBYyxFQUFFO0lBQ3BFLE1BQU1DLFdBQVdGLGdCQUFnQixJQUFJRyxLQUFLQyxLQUFLLENBQUMsZUFBZ0JKLGdCQUFpQixPQUFPO0lBRXhGLDBDQUEwQztJQUMxQyxNQUFNSyxXQUFXLE1BQU10Qyx1Q0FBRUEsQ0FBQ3VDLE9BQU8sQ0FBQ3pCLFFBQVEsQ0FBQztRQUN6Q0MsT0FBTztZQUFFQyxRQUFRUixLQUFLUyxFQUFFO1FBQUM7UUFDekJ1QixRQUFRO1lBQUVDLFdBQVc7UUFBSztRQUMxQnJCLFNBQVM7WUFBRXFCLFdBQVc7UUFBTztJQUMvQjtJQUNBLE1BQU1DLFlBQVksSUFBSWxCLElBQUljLFNBQVNiLEdBQUcsQ0FBQyxDQUFDTSxJQUFNQSxFQUFFVSxTQUFTLENBQUNFLFlBQVk7SUFDdEUsSUFBSUMsU0FBUztJQUNiLE1BQU1DLFFBQVEsSUFBSUM7SUFDbEIsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUksS0FBS0EsSUFBSztRQUM1QixNQUFNQyxJQUFJLElBQUlGLEtBQUtEO1FBQ25CRyxFQUFFQyxPQUFPLENBQUNELEVBQUVFLE9BQU8sS0FBS0g7UUFDeEIsTUFBTUksTUFBTUgsRUFBRUksTUFBTTtRQUNwQixJQUFJRCxRQUFRLEtBQUtBLFFBQVEsR0FBRztRQUM1QixJQUFJVCxVQUFVVyxHQUFHLENBQUNMLEVBQUVMLFlBQVksS0FBSztZQUNuQ0M7UUFDRixPQUFPO1lBQ0w7UUFDRjtJQUNGO0lBRUEsbUVBQW1FO0lBQ25FLE1BQU1VLFdBQVcsTUFBTXRELHVDQUFFQSxDQUFDUSxJQUFJLENBQUNNLFFBQVEsQ0FBQztRQUFFMEIsUUFBUTtZQUFFdkIsSUFBSTtZQUFNc0MsWUFBWTtZQUFNQyxNQUFNO1FBQUs7SUFBRTtJQUU3RiwwREFBMEQ7SUFDMUQsTUFBTUMsa0JBQWtCLE1BQU16RCx1Q0FBRUEsQ0FBQ2EsV0FBVyxDQUFDQyxRQUFRLENBQUM7UUFDcERDLE9BQU87WUFBRUcsYUFBYTtnQkFBRUMsS0FBSztZQUFLO1FBQUU7UUFDcENxQixRQUFRO1lBQUV4QixRQUFRO1lBQU1XLFFBQVE7WUFBTVQsYUFBYTtZQUFNd0MsYUFBYTtZQUFNMUIsZ0JBQWdCO1lBQU1FLGdCQUFnQjtRQUFLO1FBQ3ZIZCxTQUFTO1lBQUVGLGFBQWE7UUFBTTtJQUNoQztJQUVBLCtEQUErRDtJQUMvRCxNQUFNeUMsaUJBQWlCLElBQUlDO0lBQzNCLEtBQUssTUFBTWxDLEtBQUsrQixnQkFBaUI7UUFDL0IsSUFBSSxDQUFDRSxlQUFlTixHQUFHLENBQUMzQixFQUFFVixNQUFNLEdBQUcyQyxlQUFlRSxHQUFHLENBQUNuQyxFQUFFVixNQUFNLEVBQUUsRUFBRTtRQUNsRTJDLGVBQWVHLEdBQUcsQ0FBQ3BDLEVBQUVWLE1BQU0sRUFBRytDLElBQUksQ0FBQ3JDO0lBQ3JDO0lBRUEsTUFBTXNDLGVBQWUsSUFBSUo7SUFDekIsS0FBSyxNQUFNSyxLQUFLWCxTQUFVO1FBQ3hCLE1BQU1ZLGVBQWVQLGVBQWVHLEdBQUcsQ0FBQ0csRUFBRWhELEVBQUUsS0FBSyxFQUFFO1FBQ25EK0MsYUFBYUgsR0FBRyxDQUFDSSxFQUFFaEQsRUFBRSxFQUFFWCw2REFBUUEsQ0FBQ0QsMEVBQXFCQSxDQUFDNkQ7SUFDeEQ7SUFFQSxNQUFNQyxvQkFBb0JiLFNBQVM3QixHQUFHLENBQUMsQ0FBQ3dDLElBQU1ELGFBQWFGLEdBQUcsQ0FBQ0csRUFBRWhELEVBQUUsS0FBSztJQUN4RSxNQUFNbUQsVUFBVUosYUFBYUYsR0FBRyxDQUFDdEQsS0FBS1MsRUFBRSxLQUFLO0lBRTdDLE1BQU1vRCxPQUFPakUsaUVBQW1CQSxDQUFDZ0UsU0FBU0Q7SUFDMUMsTUFBTUcsUUFBUWhCLFNBQVNpQixNQUFNO0lBQzdCLE1BQU1DLGFBQWFyRSwrREFBaUJBLENBQUNpRSxTQUFTRDtJQUM5QyxNQUFNTSxRQUFRdkUsMERBQVlBLENBQUNzRTtJQUUzQiw2QkFBNkI7SUFDN0IsTUFBTUUsUUFBUXBCLFNBQ1g3QixHQUFHLENBQUMsQ0FBQ3dDLElBQU87WUFBRWhELElBQUlnRCxFQUFFVixVQUFVO1lBQUVDLE1BQU1TLEVBQUVULElBQUk7WUFBRW1CLE9BQU9YLGFBQWFGLEdBQUcsQ0FBQ0csRUFBRWhELEVBQUUsS0FBSztRQUFFLElBQ2pGMkQsSUFBSSxDQUFDLENBQUNsRCxHQUFHbUQsSUFBTUEsRUFBRUYsS0FBSyxHQUFHakQsRUFBRWlELEtBQUssRUFDaENHLEtBQUssQ0FBQyxHQUFHLElBQ1RyRCxHQUFHLENBQUMsQ0FBQ3NELE9BQU9DLE1BQVM7WUFBRSxHQUFHRCxLQUFLO1lBQUVFLFVBQVVELE1BQU07UUFBRTtJQUV0RCxPQUFPakYscURBQVlBLENBQUNVLElBQUksQ0FBQztRQUN2QmE7UUFDQUM7UUFDQVk7UUFDQVM7UUFDQXlCO1FBQ0FDO1FBQ0FFO1FBQ0FDO1FBQ0FDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXRyYWluaW5nLXBvcnRhbC8uL3NyYy9hcHAvYXBpL2Rhc2hib2FyZC9rcGlzL3JvdXRlLnRzP2UwYjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBkYiB9IGZyb20gXCJAL2xpYi9kYlwiO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvblVzZXIgfSBmcm9tIFwiQC9saWIvc2Vzc2lvblwiO1xuaW1wb3J0IHsgY29tcHV0ZUdyYWRlLCBjb21wdXRlUGVyY2VudGlsZSwgY29tcHV0ZVJhbmtQb3NpdGlvbiB9IGZyb20gXCJAL2xpYi9zY29yaW5nXCI7XG5pbXBvcnQgeyBsYXRlc3RBdHRlbXB0c1BlclF1aXosIHN1bVNjb3JlIH0gZnJvbSBcIkAvbGliL3Njb3Jpbmcvc2VydmVyXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRTZXNzaW9uVXNlcigpO1xuICBpZiAoIXVzZXIpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG5cbiAgLy8gLS0tIFBlcnNvbmFsIHN0YXRzIChsYXRlc3QgYXR0ZW1wdCBwZXIgcXVpeiBvbmx5KSAtLS1cbiAgY29uc3QgYWxsQXR0ZW1wdHMgPSBhd2FpdCBkYi5xdWl6QXR0ZW1wdC5maW5kTWFueSh7XG4gICAgd2hlcmU6IHsgdXNlcklkOiB1c2VyLmlkLCBjb21wbGV0ZWRBdDogeyBub3Q6IG51bGwgfSB9LFxuICAgIG9yZGVyQnk6IHsgY29tcGxldGVkQXQ6IFwiYXNjXCIgfSxcbiAgfSk7XG5cbiAgY29uc3QgbGF0ZXN0ID0gbGF0ZXN0QXR0ZW1wdHNQZXJRdWl6KGFsbEF0dGVtcHRzKTtcblxuICBjb25zdCB0b3RhbFNjb3JlID0gc3VtU2NvcmUobGF0ZXN0KTtcbiAgY29uc3QgcXVpenplc0NvbXBsZXRlZCA9IG5ldyBTZXQoYWxsQXR0ZW1wdHMubWFwKChhKSA9PiBhLnF1aXpJZCkpLnNpemU7XG4gIGNvbnN0IHRvdGFsQ29ycmVjdCA9IGxhdGVzdC5yZWR1Y2UoKHMsIGEpID0+IHMgKyBhLmNvcnJlY3RBbnN3ZXJzLCAwKTtcbiAgY29uc3QgdG90YWxBbnN3ZXJlZCA9IGxhdGVzdC5yZWR1Y2UoKHMsIGEpID0+IHMgKyBhLnRvdGFsUXVlc3Rpb25zLCAwKTtcbiAgY29uc3QgYWNjdXJhY3kgPSB0b3RhbEFuc3dlcmVkID4gMCA/IE1hdGgucm91bmQoKHRvdGFsQ29ycmVjdCAvIHRvdGFsQW5zd2VyZWQpICogMTAwKSA6IDA7XG5cbiAgLy8gLS0tIFN0cmVhayAod29yay13ZWVrLCBsb2dpbi1iYXNlZCkgLS0tXG4gIGNvbnN0IHNlc3Npb25zID0gYXdhaXQgZGIuc2Vzc2lvbi5maW5kTWFueSh7XG4gICAgd2hlcmU6IHsgdXNlcklkOiB1c2VyLmlkIH0sXG4gICAgc2VsZWN0OiB7IGNyZWF0ZWRBdDogdHJ1ZSB9LFxuICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiBcImRlc2NcIiB9LFxuICB9KTtcbiAgY29uc3QgbG9naW5EYXlzID0gbmV3IFNldChzZXNzaW9ucy5tYXAoKHMpID0+IHMuY3JlYXRlZEF0LnRvRGF0ZVN0cmluZygpKSk7XG4gIGxldCBzdHJlYWsgPSAwO1xuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzY1OyBpKyspIHtcbiAgICBjb25zdCBkID0gbmV3IERhdGUodG9kYXkpO1xuICAgIGQuc2V0RGF0ZShkLmdldERhdGUoKSAtIGkpO1xuICAgIGNvbnN0IGRvdyA9IGQuZ2V0RGF5KCk7XG4gICAgaWYgKGRvdyA9PT0gMCB8fCBkb3cgPT09IDYpIGNvbnRpbnVlO1xuICAgIGlmIChsb2dpbkRheXMuaGFzKGQudG9EYXRlU3RyaW5nKCkpKSB7XG4gICAgICBzdHJlYWsrKztcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8gLS0tIENvbXBhbnktd2lkZSByYW5raW5nIChsYXRlc3QgYXR0ZW1wdCBwZXIgcXVpeiwgcGVyIHVzZXIpIC0tLVxuICBjb25zdCBhbGxVc2VycyA9IGF3YWl0IGRiLnVzZXIuZmluZE1hbnkoeyBzZWxlY3Q6IHsgaWQ6IHRydWUsIGV4dGVybmFsSWQ6IHRydWUsIG5hbWU6IHRydWUgfSB9KTtcblxuICAvLyBGZXRjaCBhbGwgY29tcGxldGVkIGF0dGVtcHRzIGZvciBhbGwgdXNlcnMgaW4gb25lIHF1ZXJ5XG4gIGNvbnN0IGFsbFVzZXJBdHRlbXB0cyA9IGF3YWl0IGRiLnF1aXpBdHRlbXB0LmZpbmRNYW55KHtcbiAgICB3aGVyZTogeyBjb21wbGV0ZWRBdDogeyBub3Q6IG51bGwgfSB9LFxuICAgIHNlbGVjdDogeyB1c2VySWQ6IHRydWUsIHF1aXpJZDogdHJ1ZSwgY29tcGxldGVkQXQ6IHRydWUsIHNjb3JlRWFybmVkOiB0cnVlLCBjb3JyZWN0QW5zd2VyczogdHJ1ZSwgdG90YWxRdWVzdGlvbnM6IHRydWUgfSxcbiAgICBvcmRlckJ5OiB7IGNvbXBsZXRlZEF0OiBcImFzY1wiIH0sXG4gIH0pO1xuXG4gIC8vIEdyb3VwIGJ5IHVzZXJJZCwgdGhlbiBjb21wdXRlIGxhdGVzdC1wZXItcXVpeiBzY29yZSBmb3IgZWFjaFxuICBjb25zdCBhdHRlbXB0c0J5VXNlciA9IG5ldyBNYXA8c3RyaW5nLCB0eXBlb2YgYWxsVXNlckF0dGVtcHRzPigpO1xuICBmb3IgKGNvbnN0IGEgb2YgYWxsVXNlckF0dGVtcHRzKSB7XG4gICAgaWYgKCFhdHRlbXB0c0J5VXNlci5oYXMoYS51c2VySWQpKSBhdHRlbXB0c0J5VXNlci5zZXQoYS51c2VySWQsIFtdKTtcbiAgICBhdHRlbXB0c0J5VXNlci5nZXQoYS51c2VySWQpIS5wdXNoKGEpO1xuICB9XG5cbiAgY29uc3QgdXNlclNjb3JlTWFwID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgZm9yIChjb25zdCB1IG9mIGFsbFVzZXJzKSB7XG4gICAgY29uc3QgdXNlckF0dGVtcHRzID0gYXR0ZW1wdHNCeVVzZXIuZ2V0KHUuaWQpID8/IFtdO1xuICAgIHVzZXJTY29yZU1hcC5zZXQodS5pZCwgc3VtU2NvcmUobGF0ZXN0QXR0ZW1wdHNQZXJRdWl6KHVzZXJBdHRlbXB0cykpKTtcbiAgfVxuXG4gIGNvbnN0IGFsbFNjb3Jlc0NvbXBsZXRlID0gYWxsVXNlcnMubWFwKCh1KSA9PiB1c2VyU2NvcmVNYXAuZ2V0KHUuaWQpID8/IDApO1xuICBjb25zdCBteVNjb3JlID0gdXNlclNjb3JlTWFwLmdldCh1c2VyLmlkKSA/PyAwO1xuXG4gIGNvbnN0IHJhbmsgPSBjb21wdXRlUmFua1Bvc2l0aW9uKG15U2NvcmUsIGFsbFNjb3Jlc0NvbXBsZXRlKTtcbiAgY29uc3QgdG90YWwgPSBhbGxVc2Vycy5sZW5ndGg7XG4gIGNvbnN0IHBlcmNlbnRpbGUgPSBjb21wdXRlUGVyY2VudGlsZShteVNjb3JlLCBhbGxTY29yZXNDb21wbGV0ZSk7XG4gIGNvbnN0IGdyYWRlID0gY29tcHV0ZUdyYWRlKHBlcmNlbnRpbGUpO1xuXG4gIC8vIC0tLSBUb3AgMTAgbGVhZGVyYm9hcmQgLS0tXG4gIGNvbnN0IHRvcDEwID0gYWxsVXNlcnNcbiAgICAubWFwKCh1KSA9PiAoeyBpZDogdS5leHRlcm5hbElkLCBuYW1lOiB1Lm5hbWUsIHNjb3JlOiB1c2VyU2NvcmVNYXAuZ2V0KHUuaWQpID8/IDAgfSkpXG4gICAgLnNvcnQoKGEsIGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlKVxuICAgIC5zbGljZSgwLCAxMClcbiAgICAubWFwKChlbnRyeSwgaWR4KSA9PiAoeyAuLi5lbnRyeSwgcG9zaXRpb246IGlkeCArIDEgfSkpO1xuXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgdG90YWxTY29yZSxcbiAgICBxdWl6emVzQ29tcGxldGVkLFxuICAgIGFjY3VyYWN5LFxuICAgIHN0cmVhayxcbiAgICByYW5rLFxuICAgIHRvdGFsLFxuICAgIHBlcmNlbnRpbGUsXG4gICAgZ3JhZGUsXG4gICAgdG9wMTAsXG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImRiIiwiZ2V0U2Vzc2lvblVzZXIiLCJjb21wdXRlR3JhZGUiLCJjb21wdXRlUGVyY2VudGlsZSIsImNvbXB1dGVSYW5rUG9zaXRpb24iLCJsYXRlc3RBdHRlbXB0c1BlclF1aXoiLCJzdW1TY29yZSIsIkdFVCIsInVzZXIiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJhbGxBdHRlbXB0cyIsInF1aXpBdHRlbXB0IiwiZmluZE1hbnkiLCJ3aGVyZSIsInVzZXJJZCIsImlkIiwiY29tcGxldGVkQXQiLCJub3QiLCJvcmRlckJ5IiwibGF0ZXN0IiwidG90YWxTY29yZSIsInF1aXp6ZXNDb21wbGV0ZWQiLCJTZXQiLCJtYXAiLCJhIiwicXVpeklkIiwic2l6ZSIsInRvdGFsQ29ycmVjdCIsInJlZHVjZSIsInMiLCJjb3JyZWN0QW5zd2VycyIsInRvdGFsQW5zd2VyZWQiLCJ0b3RhbFF1ZXN0aW9ucyIsImFjY3VyYWN5IiwiTWF0aCIsInJvdW5kIiwic2Vzc2lvbnMiLCJzZXNzaW9uIiwic2VsZWN0IiwiY3JlYXRlZEF0IiwibG9naW5EYXlzIiwidG9EYXRlU3RyaW5nIiwic3RyZWFrIiwidG9kYXkiLCJEYXRlIiwiaSIsImQiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImRvdyIsImdldERheSIsImhhcyIsImFsbFVzZXJzIiwiZXh0ZXJuYWxJZCIsIm5hbWUiLCJhbGxVc2VyQXR0ZW1wdHMiLCJzY29yZUVhcm5lZCIsImF0dGVtcHRzQnlVc2VyIiwiTWFwIiwic2V0IiwiZ2V0IiwicHVzaCIsInVzZXJTY29yZU1hcCIsInUiLCJ1c2VyQXR0ZW1wdHMiLCJhbGxTY29yZXNDb21wbGV0ZSIsIm15U2NvcmUiLCJyYW5rIiwidG90YWwiLCJsZW5ndGgiLCJwZXJjZW50aWxlIiwiZ3JhZGUiLCJ0b3AxMCIsInNjb3JlIiwic29ydCIsImIiLCJzbGljZSIsImVudHJ5IiwiaWR4IiwicG9zaXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/dashboard/kpis/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst db = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log:  true ? [\n        \"error\",\n        \"warn\"\n    ] : 0\n});\nif (true) globalForPrisma.prisma = db;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QztBQUU5QyxNQUFNQyxrQkFBa0JDO0FBRWpCLE1BQU1DLEtBQ1hGLGdCQUFnQkcsTUFBTSxJQUN0QixJQUFJSix3REFBWUEsQ0FBQztJQUNmSyxLQUFLQyxLQUFzQyxHQUFHO1FBQUM7UUFBUztLQUFPLEdBQUcsQ0FBUztBQUM3RSxHQUFHO0FBRUwsSUFBSUEsSUFBcUMsRUFBRUwsZ0JBQWdCRyxNQUFNLEdBQUdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdHJhaW5pbmctcG9ydGFsLy4vc3JjL2xpYi9kYi50cz85ZTRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMgeyBwcmlzbWE6IFByaXNtYUNsaWVudCB9O1xuXG5leHBvcnQgY29uc3QgZGIgPVxuICBnbG9iYWxGb3JQcmlzbWEucHJpc21hID8/XG4gIG5ldyBQcmlzbWFDbGllbnQoe1xuICAgIGxvZzogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIiA/IFtcImVycm9yXCIsIFwid2FyblwiXSA6IFtcImVycm9yXCJdLFxuICB9KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IGRiO1xuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJkYiIsInByaXNtYSIsImxvZyIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/scoring.ts":
/*!****************************!*\
  !*** ./src/lib/scoring.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FIRST_TRY_BONUS: () => (/* binding */ FIRST_TRY_BONUS),\n/* harmony export */   POINTS_PER_QUESTION: () => (/* binding */ POINTS_PER_QUESTION),\n/* harmony export */   calcQuizPoints: () => (/* binding */ calcQuizPoints),\n/* harmony export */   computeGrade: () => (/* binding */ computeGrade),\n/* harmony export */   computePercentile: () => (/* binding */ computePercentile),\n/* harmony export */   computeRankPosition: () => (/* binding */ computeRankPosition),\n/* harmony export */   maxPoints: () => (/* binding */ maxPoints)\n/* harmony export */ });\n/**\n * Scoring rules for the AI Training Portal.\n *\n * POINTS SYSTEM:\n * - Base points per correct question: 10\n * - First-attempt bonus per correct question: 5\n * - Maximum per question: 15 (10 base + 5 bonus)\n *\n * Total score = sum of all points earned across all video quizzes.\n * Score is deterministic and reproducible from stored quiz attempts.\n *\n * RANKING:\n * - Users ranked by total score (highest = rank #1).\n * - Percentile = percentage of other users scored below you.\n *\n * GRADE LABELS:\n * - A: percentile ≥ 90\n * - B: percentile 66–89\n * - C: percentile 33–65\n * - D: percentile < 33\n */ const POINTS_PER_QUESTION = 10;\nconst FIRST_TRY_BONUS = 5;\n/** Derive grade label from percentile (0–100). */ function computeGrade(percentile) {\n    if (percentile >= 90) return \"A\";\n    if (percentile >= 66) return \"B\";\n    if (percentile >= 33) return \"C\";\n    return \"D\";\n}\n/**\n * Compute percentile rank of a score within an array of all scores.\n * Returns 0–100. A score higher than all others returns 100.\n */ function computePercentile(score, allScores) {\n    if (allScores.length <= 1) return 100;\n    const below = allScores.filter((s)=>s < score).length;\n    return Math.round(below / (allScores.length - 1) * 100);\n}\n/**\n * Compute 1-based rank position within an array of all scores.\n * Rank 1 = highest score.\n */ function computeRankPosition(score, allScores) {\n    return allScores.filter((s)=>s > score).length + 1;\n}\n/**\n * Calculate points earned for a quiz attempt.\n * @param totalQuestions total number of questions in the quiz\n * @param correctAnswers number of questions answered correctly\n * @param firstTryCorrect number of questions answered correctly on the first try\n */ function calcQuizPoints(totalQuestions, correctAnswers, firstTryCorrect) {\n    const base = correctAnswers * POINTS_PER_QUESTION;\n    const bonus = firstTryCorrect * FIRST_TRY_BONUS;\n    return base + bonus;\n}\n/** Maximum achievable points for a given number of questions. */ function maxPoints(totalQuestions) {\n    return totalQuestions * (POINTS_PER_QUESTION + FIRST_TRY_BONUS);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3Njb3JpbmcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQW9CQyxHQUVNLE1BQU1BLHNCQUFzQixHQUFHO0FBQy9CLE1BQU1DLGtCQUFrQixFQUFFO0FBSWpDLGdEQUFnRCxHQUN6QyxTQUFTQyxhQUFhQyxVQUFrQjtJQUM3QyxJQUFJQSxjQUFjLElBQUksT0FBTztJQUM3QixJQUFJQSxjQUFjLElBQUksT0FBTztJQUM3QixJQUFJQSxjQUFjLElBQUksT0FBTztJQUM3QixPQUFPO0FBQ1Q7QUFFQTs7O0NBR0MsR0FDTSxTQUFTQyxrQkFBa0JDLEtBQWEsRUFBRUMsU0FBbUI7SUFDbEUsSUFBSUEsVUFBVUMsTUFBTSxJQUFJLEdBQUcsT0FBTztJQUNsQyxNQUFNQyxRQUFRRixVQUFVRyxNQUFNLENBQUMsQ0FBQ0MsSUFBTUEsSUFBSUwsT0FBT0UsTUFBTTtJQUN2RCxPQUFPSSxLQUFLQyxLQUFLLENBQUMsUUFBVU4sQ0FBQUEsVUFBVUMsTUFBTSxHQUFHLEtBQU07QUFDdkQ7QUFFQTs7O0NBR0MsR0FDTSxTQUFTTSxvQkFBb0JSLEtBQWEsRUFBRUMsU0FBbUI7SUFDcEUsT0FBT0EsVUFBVUcsTUFBTSxDQUFDLENBQUNDLElBQU1BLElBQUlMLE9BQU9FLE1BQU0sR0FBRztBQUNyRDtBQUVBOzs7OztDQUtDLEdBQ00sU0FBU08sZUFDZEMsY0FBc0IsRUFDdEJDLGNBQXNCLEVBQ3RCQyxlQUF1QjtJQUV2QixNQUFNQyxPQUFPRixpQkFBaUJoQjtJQUM5QixNQUFNbUIsUUFBUUYsa0JBQWtCaEI7SUFDaEMsT0FBT2lCLE9BQU9DO0FBQ2hCO0FBRUEsK0RBQStELEdBQ3hELFNBQVNDLFVBQVVMLGNBQXNCO0lBQzlDLE9BQU9BLGlCQUFrQmYsQ0FBQUEsc0JBQXNCQyxlQUFjO0FBQy9EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdHJhaW5pbmctcG9ydGFsLy4vc3JjL2xpYi9zY29yaW5nLnRzP2QyNWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTY29yaW5nIHJ1bGVzIGZvciB0aGUgQUkgVHJhaW5pbmcgUG9ydGFsLlxuICpcbiAqIFBPSU5UUyBTWVNURU06XG4gKiAtIEJhc2UgcG9pbnRzIHBlciBjb3JyZWN0IHF1ZXN0aW9uOiAxMFxuICogLSBGaXJzdC1hdHRlbXB0IGJvbnVzIHBlciBjb3JyZWN0IHF1ZXN0aW9uOiA1XG4gKiAtIE1heGltdW0gcGVyIHF1ZXN0aW9uOiAxNSAoMTAgYmFzZSArIDUgYm9udXMpXG4gKlxuICogVG90YWwgc2NvcmUgPSBzdW0gb2YgYWxsIHBvaW50cyBlYXJuZWQgYWNyb3NzIGFsbCB2aWRlbyBxdWl6emVzLlxuICogU2NvcmUgaXMgZGV0ZXJtaW5pc3RpYyBhbmQgcmVwcm9kdWNpYmxlIGZyb20gc3RvcmVkIHF1aXogYXR0ZW1wdHMuXG4gKlxuICogUkFOS0lORzpcbiAqIC0gVXNlcnMgcmFua2VkIGJ5IHRvdGFsIHNjb3JlIChoaWdoZXN0ID0gcmFuayAjMSkuXG4gKiAtIFBlcmNlbnRpbGUgPSBwZXJjZW50YWdlIG9mIG90aGVyIHVzZXJzIHNjb3JlZCBiZWxvdyB5b3UuXG4gKlxuICogR1JBREUgTEFCRUxTOlxuICogLSBBOiBwZXJjZW50aWxlIOKJpSA5MFxuICogLSBCOiBwZXJjZW50aWxlIDY24oCTODlcbiAqIC0gQzogcGVyY2VudGlsZSAzM+KAkzY1XG4gKiAtIEQ6IHBlcmNlbnRpbGUgPCAzM1xuICovXG5cbmV4cG9ydCBjb25zdCBQT0lOVFNfUEVSX1FVRVNUSU9OID0gMTA7XG5leHBvcnQgY29uc3QgRklSU1RfVFJZX0JPTlVTID0gNTtcblxuZXhwb3J0IHR5cGUgR3JhZGVMYWJlbCA9IFwiQVwiIHwgXCJCXCIgfCBcIkNcIiB8IFwiRFwiO1xuXG4vKiogRGVyaXZlIGdyYWRlIGxhYmVsIGZyb20gcGVyY2VudGlsZSAoMOKAkzEwMCkuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUdyYWRlKHBlcmNlbnRpbGU6IG51bWJlcik6IEdyYWRlTGFiZWwge1xuICBpZiAocGVyY2VudGlsZSA+PSA5MCkgcmV0dXJuIFwiQVwiO1xuICBpZiAocGVyY2VudGlsZSA+PSA2NikgcmV0dXJuIFwiQlwiO1xuICBpZiAocGVyY2VudGlsZSA+PSAzMykgcmV0dXJuIFwiQ1wiO1xuICByZXR1cm4gXCJEXCI7XG59XG5cbi8qKlxuICogQ29tcHV0ZSBwZXJjZW50aWxlIHJhbmsgb2YgYSBzY29yZSB3aXRoaW4gYW4gYXJyYXkgb2YgYWxsIHNjb3Jlcy5cbiAqIFJldHVybnMgMOKAkzEwMC4gQSBzY29yZSBoaWdoZXIgdGhhbiBhbGwgb3RoZXJzIHJldHVybnMgMTAwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVBlcmNlbnRpbGUoc2NvcmU6IG51bWJlciwgYWxsU2NvcmVzOiBudW1iZXJbXSk6IG51bWJlciB7XG4gIGlmIChhbGxTY29yZXMubGVuZ3RoIDw9IDEpIHJldHVybiAxMDA7XG4gIGNvbnN0IGJlbG93ID0gYWxsU2NvcmVzLmZpbHRlcigocykgPT4gcyA8IHNjb3JlKS5sZW5ndGg7XG4gIHJldHVybiBNYXRoLnJvdW5kKChiZWxvdyAvIChhbGxTY29yZXMubGVuZ3RoIC0gMSkpICogMTAwKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlIDEtYmFzZWQgcmFuayBwb3NpdGlvbiB3aXRoaW4gYW4gYXJyYXkgb2YgYWxsIHNjb3Jlcy5cbiAqIFJhbmsgMSA9IGhpZ2hlc3Qgc2NvcmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUmFua1Bvc2l0aW9uKHNjb3JlOiBudW1iZXIsIGFsbFNjb3JlczogbnVtYmVyW10pOiBudW1iZXIge1xuICByZXR1cm4gYWxsU2NvcmVzLmZpbHRlcigocykgPT4gcyA+IHNjb3JlKS5sZW5ndGggKyAxO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBwb2ludHMgZWFybmVkIGZvciBhIHF1aXogYXR0ZW1wdC5cbiAqIEBwYXJhbSB0b3RhbFF1ZXN0aW9ucyB0b3RhbCBudW1iZXIgb2YgcXVlc3Rpb25zIGluIHRoZSBxdWl6XG4gKiBAcGFyYW0gY29ycmVjdEFuc3dlcnMgbnVtYmVyIG9mIHF1ZXN0aW9ucyBhbnN3ZXJlZCBjb3JyZWN0bHlcbiAqIEBwYXJhbSBmaXJzdFRyeUNvcnJlY3QgbnVtYmVyIG9mIHF1ZXN0aW9ucyBhbnN3ZXJlZCBjb3JyZWN0bHkgb24gdGhlIGZpcnN0IHRyeVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY1F1aXpQb2ludHMoXG4gIHRvdGFsUXVlc3Rpb25zOiBudW1iZXIsXG4gIGNvcnJlY3RBbnN3ZXJzOiBudW1iZXIsXG4gIGZpcnN0VHJ5Q29ycmVjdDogbnVtYmVyXG4pOiBudW1iZXIge1xuICBjb25zdCBiYXNlID0gY29ycmVjdEFuc3dlcnMgKiBQT0lOVFNfUEVSX1FVRVNUSU9OO1xuICBjb25zdCBib251cyA9IGZpcnN0VHJ5Q29ycmVjdCAqIEZJUlNUX1RSWV9CT05VUztcbiAgcmV0dXJuIGJhc2UgKyBib251cztcbn1cblxuLyoqIE1heGltdW0gYWNoaWV2YWJsZSBwb2ludHMgZm9yIGEgZ2l2ZW4gbnVtYmVyIG9mIHF1ZXN0aW9ucy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXhQb2ludHModG90YWxRdWVzdGlvbnM6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiB0b3RhbFF1ZXN0aW9ucyAqIChQT0lOVFNfUEVSX1FVRVNUSU9OICsgRklSU1RfVFJZX0JPTlVTKTtcbn1cbiJdLCJuYW1lcyI6WyJQT0lOVFNfUEVSX1FVRVNUSU9OIiwiRklSU1RfVFJZX0JPTlVTIiwiY29tcHV0ZUdyYWRlIiwicGVyY2VudGlsZSIsImNvbXB1dGVQZXJjZW50aWxlIiwic2NvcmUiLCJhbGxTY29yZXMiLCJsZW5ndGgiLCJiZWxvdyIsImZpbHRlciIsInMiLCJNYXRoIiwicm91bmQiLCJjb21wdXRlUmFua1Bvc2l0aW9uIiwiY2FsY1F1aXpQb2ludHMiLCJ0b3RhbFF1ZXN0aW9ucyIsImNvcnJlY3RBbnN3ZXJzIiwiZmlyc3RUcnlDb3JyZWN0IiwiYmFzZSIsImJvbnVzIiwibWF4UG9pbnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/scoring.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/scoring/index.ts":
/*!**********************************!*\
  !*** ./src/lib/scoring/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FIRST_TRY_BONUS: () => (/* binding */ FIRST_TRY_BONUS),\n/* harmony export */   POINTS_PER_QUESTION: () => (/* binding */ POINTS_PER_QUESTION),\n/* harmony export */   calcQuizPoints: () => (/* binding */ calcQuizPoints),\n/* harmony export */   computeGrade: () => (/* binding */ computeGrade),\n/* harmony export */   computePercentile: () => (/* binding */ computePercentile),\n/* harmony export */   computeRankPosition: () => (/* binding */ computeRankPosition),\n/* harmony export */   maxPoints: () => (/* binding */ maxPoints)\n/* harmony export */ });\n/**\n * Scoring rules for the AI Training Portal.\n *\n * POINTS SYSTEM:\n * - Base points per correct question: 10\n * - First-attempt bonus per correct question: 5\n * - Maximum per question: 15 (10 base + 5 bonus)\n *\n * Total score = sum of all points earned across all video quizzes.\n * Score is deterministic and reproducible from stored quiz attempts.\n *\n * RANKING:\n * - Users ranked by total score (highest = rank #1).\n * - Percentile = percentage of other users scored below you.\n *\n * GRADE LABELS:\n * - A: percentile ≥ 90\n * - B: percentile 66–89\n * - C: percentile 33–65\n * - D: percentile < 33\n */ const POINTS_PER_QUESTION = 10;\nconst FIRST_TRY_BONUS = 5;\n/** Derive grade label from percentile (0–100). */ function computeGrade(percentile) {\n    if (percentile >= 90) return \"A\";\n    if (percentile >= 66) return \"B\";\n    if (percentile >= 33) return \"C\";\n    return \"D\";\n}\n/**\n * Compute percentile rank of a score within an array of all scores.\n * Returns 0–100. A score higher than all others returns 100.\n */ function computePercentile(score, allScores) {\n    if (allScores.length <= 1) return 100;\n    const below = allScores.filter((s)=>s < score).length;\n    return Math.round(below / (allScores.length - 1) * 100);\n}\n/**\n * Compute 1-based rank position within an array of all scores.\n * Rank 1 = highest score.\n */ function computeRankPosition(score, allScores) {\n    return allScores.filter((s)=>s > score).length + 1;\n}\n/**\n * Calculate points earned for a quiz attempt.\n * @param totalQuestions total number of questions in the quiz\n * @param correctAnswers number of questions answered correctly\n * @param firstTryCorrect number of questions answered correctly on the first try\n */ function calcQuizPoints(totalQuestions, correctAnswers, firstTryCorrect) {\n    const base = correctAnswers * POINTS_PER_QUESTION;\n    const bonus = firstTryCorrect * FIRST_TRY_BONUS;\n    return base + bonus;\n}\n/** Maximum achievable points for a given number of questions. */ function maxPoints(totalQuestions) {\n    return totalQuestions * (POINTS_PER_QUESTION + FIRST_TRY_BONUS);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3Njb3JpbmcvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQW9CQyxHQUVNLE1BQU1BLHNCQUFzQixHQUFHO0FBQy9CLE1BQU1DLGtCQUFrQixFQUFFO0FBSWpDLGdEQUFnRCxHQUN6QyxTQUFTQyxhQUFhQyxVQUFrQjtJQUM3QyxJQUFJQSxjQUFjLElBQUksT0FBTztJQUM3QixJQUFJQSxjQUFjLElBQUksT0FBTztJQUM3QixJQUFJQSxjQUFjLElBQUksT0FBTztJQUM3QixPQUFPO0FBQ1Q7QUFFQTs7O0NBR0MsR0FDTSxTQUFTQyxrQkFBa0JDLEtBQWEsRUFBRUMsU0FBbUI7SUFDbEUsSUFBSUEsVUFBVUMsTUFBTSxJQUFJLEdBQUcsT0FBTztJQUNsQyxNQUFNQyxRQUFRRixVQUFVRyxNQUFNLENBQUMsQ0FBQ0MsSUFBTUEsSUFBSUwsT0FBT0UsTUFBTTtJQUN2RCxPQUFPSSxLQUFLQyxLQUFLLENBQUMsUUFBVU4sQ0FBQUEsVUFBVUMsTUFBTSxHQUFHLEtBQU07QUFDdkQ7QUFFQTs7O0NBR0MsR0FDTSxTQUFTTSxvQkFBb0JSLEtBQWEsRUFBRUMsU0FBbUI7SUFDcEUsT0FBT0EsVUFBVUcsTUFBTSxDQUFDLENBQUNDLElBQU1BLElBQUlMLE9BQU9FLE1BQU0sR0FBRztBQUNyRDtBQUVBOzs7OztDQUtDLEdBQ00sU0FBU08sZUFDZEMsY0FBc0IsRUFDdEJDLGNBQXNCLEVBQ3RCQyxlQUF1QjtJQUV2QixNQUFNQyxPQUFPRixpQkFBaUJoQjtJQUM5QixNQUFNbUIsUUFBUUYsa0JBQWtCaEI7SUFDaEMsT0FBT2lCLE9BQU9DO0FBQ2hCO0FBRUEsK0RBQStELEdBQ3hELFNBQVNDLFVBQVVMLGNBQXNCO0lBQzlDLE9BQU9BLGlCQUFrQmYsQ0FBQUEsc0JBQXNCQyxlQUFjO0FBQy9EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdHJhaW5pbmctcG9ydGFsLy4vc3JjL2xpYi9zY29yaW5nL2luZGV4LnRzPzFmOGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTY29yaW5nIHJ1bGVzIGZvciB0aGUgQUkgVHJhaW5pbmcgUG9ydGFsLlxuICpcbiAqIFBPSU5UUyBTWVNURU06XG4gKiAtIEJhc2UgcG9pbnRzIHBlciBjb3JyZWN0IHF1ZXN0aW9uOiAxMFxuICogLSBGaXJzdC1hdHRlbXB0IGJvbnVzIHBlciBjb3JyZWN0IHF1ZXN0aW9uOiA1XG4gKiAtIE1heGltdW0gcGVyIHF1ZXN0aW9uOiAxNSAoMTAgYmFzZSArIDUgYm9udXMpXG4gKlxuICogVG90YWwgc2NvcmUgPSBzdW0gb2YgYWxsIHBvaW50cyBlYXJuZWQgYWNyb3NzIGFsbCB2aWRlbyBxdWl6emVzLlxuICogU2NvcmUgaXMgZGV0ZXJtaW5pc3RpYyBhbmQgcmVwcm9kdWNpYmxlIGZyb20gc3RvcmVkIHF1aXogYXR0ZW1wdHMuXG4gKlxuICogUkFOS0lORzpcbiAqIC0gVXNlcnMgcmFua2VkIGJ5IHRvdGFsIHNjb3JlIChoaWdoZXN0ID0gcmFuayAjMSkuXG4gKiAtIFBlcmNlbnRpbGUgPSBwZXJjZW50YWdlIG9mIG90aGVyIHVzZXJzIHNjb3JlZCBiZWxvdyB5b3UuXG4gKlxuICogR1JBREUgTEFCRUxTOlxuICogLSBBOiBwZXJjZW50aWxlIOKJpSA5MFxuICogLSBCOiBwZXJjZW50aWxlIDY24oCTODlcbiAqIC0gQzogcGVyY2VudGlsZSAzM+KAkzY1XG4gKiAtIEQ6IHBlcmNlbnRpbGUgPCAzM1xuICovXG5cbmV4cG9ydCBjb25zdCBQT0lOVFNfUEVSX1FVRVNUSU9OID0gMTA7XG5leHBvcnQgY29uc3QgRklSU1RfVFJZX0JPTlVTID0gNTtcblxuZXhwb3J0IHR5cGUgR3JhZGVMYWJlbCA9IFwiQVwiIHwgXCJCXCIgfCBcIkNcIiB8IFwiRFwiO1xuXG4vKiogRGVyaXZlIGdyYWRlIGxhYmVsIGZyb20gcGVyY2VudGlsZSAoMOKAkzEwMCkuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUdyYWRlKHBlcmNlbnRpbGU6IG51bWJlcik6IEdyYWRlTGFiZWwge1xuICBpZiAocGVyY2VudGlsZSA+PSA5MCkgcmV0dXJuIFwiQVwiO1xuICBpZiAocGVyY2VudGlsZSA+PSA2NikgcmV0dXJuIFwiQlwiO1xuICBpZiAocGVyY2VudGlsZSA+PSAzMykgcmV0dXJuIFwiQ1wiO1xuICByZXR1cm4gXCJEXCI7XG59XG5cbi8qKlxuICogQ29tcHV0ZSBwZXJjZW50aWxlIHJhbmsgb2YgYSBzY29yZSB3aXRoaW4gYW4gYXJyYXkgb2YgYWxsIHNjb3Jlcy5cbiAqIFJldHVybnMgMOKAkzEwMC4gQSBzY29yZSBoaWdoZXIgdGhhbiBhbGwgb3RoZXJzIHJldHVybnMgMTAwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVBlcmNlbnRpbGUoc2NvcmU6IG51bWJlciwgYWxsU2NvcmVzOiBudW1iZXJbXSk6IG51bWJlciB7XG4gIGlmIChhbGxTY29yZXMubGVuZ3RoIDw9IDEpIHJldHVybiAxMDA7XG4gIGNvbnN0IGJlbG93ID0gYWxsU2NvcmVzLmZpbHRlcigocykgPT4gcyA8IHNjb3JlKS5sZW5ndGg7XG4gIHJldHVybiBNYXRoLnJvdW5kKChiZWxvdyAvIChhbGxTY29yZXMubGVuZ3RoIC0gMSkpICogMTAwKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlIDEtYmFzZWQgcmFuayBwb3NpdGlvbiB3aXRoaW4gYW4gYXJyYXkgb2YgYWxsIHNjb3Jlcy5cbiAqIFJhbmsgMSA9IGhpZ2hlc3Qgc2NvcmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUmFua1Bvc2l0aW9uKHNjb3JlOiBudW1iZXIsIGFsbFNjb3JlczogbnVtYmVyW10pOiBudW1iZXIge1xuICByZXR1cm4gYWxsU2NvcmVzLmZpbHRlcigocykgPT4gcyA+IHNjb3JlKS5sZW5ndGggKyAxO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBwb2ludHMgZWFybmVkIGZvciBhIHF1aXogYXR0ZW1wdC5cbiAqIEBwYXJhbSB0b3RhbFF1ZXN0aW9ucyB0b3RhbCBudW1iZXIgb2YgcXVlc3Rpb25zIGluIHRoZSBxdWl6XG4gKiBAcGFyYW0gY29ycmVjdEFuc3dlcnMgbnVtYmVyIG9mIHF1ZXN0aW9ucyBhbnN3ZXJlZCBjb3JyZWN0bHlcbiAqIEBwYXJhbSBmaXJzdFRyeUNvcnJlY3QgbnVtYmVyIG9mIHF1ZXN0aW9ucyBhbnN3ZXJlZCBjb3JyZWN0bHkgb24gdGhlIGZpcnN0IHRyeVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY1F1aXpQb2ludHMoXG4gIHRvdGFsUXVlc3Rpb25zOiBudW1iZXIsXG4gIGNvcnJlY3RBbnN3ZXJzOiBudW1iZXIsXG4gIGZpcnN0VHJ5Q29ycmVjdDogbnVtYmVyXG4pOiBudW1iZXIge1xuICBjb25zdCBiYXNlID0gY29ycmVjdEFuc3dlcnMgKiBQT0lOVFNfUEVSX1FVRVNUSU9OO1xuICBjb25zdCBib251cyA9IGZpcnN0VHJ5Q29ycmVjdCAqIEZJUlNUX1RSWV9CT05VUztcbiAgcmV0dXJuIGJhc2UgKyBib251cztcbn1cblxuLyoqIE1heGltdW0gYWNoaWV2YWJsZSBwb2ludHMgZm9yIGEgZ2l2ZW4gbnVtYmVyIG9mIHF1ZXN0aW9ucy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXhQb2ludHModG90YWxRdWVzdGlvbnM6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiB0b3RhbFF1ZXN0aW9ucyAqIChQT0lOVFNfUEVSX1FVRVNUSU9OICsgRklSU1RfVFJZX0JPTlVTKTtcbn1cbiJdLCJuYW1lcyI6WyJQT0lOVFNfUEVSX1FVRVNUSU9OIiwiRklSU1RfVFJZX0JPTlVTIiwiY29tcHV0ZUdyYWRlIiwicGVyY2VudGlsZSIsImNvbXB1dGVQZXJjZW50aWxlIiwic2NvcmUiLCJhbGxTY29yZXMiLCJsZW5ndGgiLCJiZWxvdyIsImZpbHRlciIsInMiLCJNYXRoIiwicm91bmQiLCJjb21wdXRlUmFua1Bvc2l0aW9uIiwiY2FsY1F1aXpQb2ludHMiLCJ0b3RhbFF1ZXN0aW9ucyIsImNvcnJlY3RBbnN3ZXJzIiwiZmlyc3RUcnlDb3JyZWN0IiwiYmFzZSIsImJvbnVzIiwibWF4UG9pbnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/scoring/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/scoring/server.ts":
/*!***********************************!*\
  !*** ./src/lib/scoring/server.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   latestAttemptsPerQuiz: () => (/* binding */ latestAttemptsPerQuiz),\n/* harmony export */   scoreQuizAttempt: () => (/* binding */ scoreQuizAttempt),\n/* harmony export */   sumScore: () => (/* binding */ sumScore)\n/* harmony export */ });\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ \"(rsc)/./src/lib/scoring/index.ts\");\n\nfunction latestAttemptsPerQuiz(attempts) {\n    const map = new Map();\n    for (const a of attempts){\n        if (!a.completedAt) continue;\n        const existing = map.get(a.quizId);\n        if (!existing || !existing.completedAt || a.completedAt > existing.completedAt) {\n            map.set(a.quizId, a);\n        }\n    }\n    return Array.from(map.values());\n}\nfunction sumScore(attempts) {\n    return attempts.reduce((s, a)=>s + a.scoreEarned, 0);\n}\n/**\n * Score a quiz attempt server-side.\n * @param questions  The authoritative questions from training.json\n * @param answers    What the user submitted (first + final clicks)\n * @param isFirstAttempt  Whether this is the user's first ever attempt for this quiz\n */ function scoreQuizAttempt(questions, answers, isFirstAttempt) {\n    const answerMap = new Map(answers.map((a)=>[\n            a.questionId,\n            a\n        ]));\n    let correctAnswers = 0;\n    let firstTryCorrect = 0;\n    for (const q of questions){\n        const answer = answerMap.get(q.id);\n        if (!answer) continue;\n        const isFinalCorrect = answer.finalSelectedIndex === q.answerIndex;\n        const isFirstCorrect = answer.firstSelectedIndex === q.answerIndex;\n        if (isFinalCorrect) correctAnswers++;\n        if (isFinalCorrect && isFirstCorrect && isFirstAttempt) firstTryCorrect++;\n    }\n    const scoreEarned = correctAnswers * _index__WEBPACK_IMPORTED_MODULE_0__.POINTS_PER_QUESTION + firstTryCorrect * _index__WEBPACK_IMPORTED_MODULE_0__.FIRST_TRY_BONUS;\n    return {\n        totalQuestions: questions.length,\n        correctAnswers,\n        firstTryCorrect,\n        scoreEarned\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3Njb3Jpbmcvc2VydmVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0Q7QUFnQnhELFNBQVNFLHNCQUFtREMsUUFBYTtJQUM5RSxNQUFNQyxNQUFNLElBQUlDO0lBQ2hCLEtBQUssTUFBTUMsS0FBS0gsU0FBVTtRQUN4QixJQUFJLENBQUNHLEVBQUVDLFdBQVcsRUFBRTtRQUNwQixNQUFNQyxXQUFXSixJQUFJSyxHQUFHLENBQUNILEVBQUVJLE1BQU07UUFDakMsSUFBSSxDQUFDRixZQUFZLENBQUNBLFNBQVNELFdBQVcsSUFBSUQsRUFBRUMsV0FBVyxHQUFHQyxTQUFTRCxXQUFXLEVBQUU7WUFDOUVILElBQUlPLEdBQUcsQ0FBQ0wsRUFBRUksTUFBTSxFQUFFSjtRQUNwQjtJQUNGO0lBQ0EsT0FBT00sTUFBTUMsSUFBSSxDQUFDVCxJQUFJVSxNQUFNO0FBQzlCO0FBRU8sU0FBU0MsU0FBU1osUUFBNkI7SUFDcEQsT0FBT0EsU0FBU2EsTUFBTSxDQUFDLENBQUNDLEdBQUdYLElBQU1XLElBQUlYLEVBQUVZLFdBQVcsRUFBRTtBQUN0RDtBQWVBOzs7OztDQUtDLEdBQ00sU0FBU0MsaUJBQ2RDLFNBQXlCLEVBQ3pCQyxPQUFzQixFQUN0QkMsY0FBdUI7SUFFdkIsTUFBTUMsWUFBWSxJQUFJbEIsSUFBSWdCLFFBQVFqQixHQUFHLENBQUMsQ0FBQ0UsSUFBTTtZQUFDQSxFQUFFa0IsVUFBVTtZQUFFbEI7U0FBRTtJQUU5RCxJQUFJbUIsaUJBQWlCO0lBQ3JCLElBQUlDLGtCQUFrQjtJQUV0QixLQUFLLE1BQU1DLEtBQUtQLFVBQVc7UUFDekIsTUFBTVEsU0FBU0wsVUFBVWQsR0FBRyxDQUFDa0IsRUFBRUUsRUFBRTtRQUNqQyxJQUFJLENBQUNELFFBQVE7UUFFYixNQUFNRSxpQkFBaUJGLE9BQU9HLGtCQUFrQixLQUFLSixFQUFFSyxXQUFXO1FBQ2xFLE1BQU1DLGlCQUFpQkwsT0FBT00sa0JBQWtCLEtBQUtQLEVBQUVLLFdBQVc7UUFFbEUsSUFBSUYsZ0JBQWdCTDtRQUNwQixJQUFJSyxrQkFBa0JHLGtCQUFrQlgsZ0JBQWdCSTtJQUMxRDtJQUVBLE1BQU1SLGNBQ0pPLGlCQUFpQnpCLHVEQUFtQkEsR0FBRzBCLGtCQUFrQnpCLG1EQUFlQTtJQUUxRSxPQUFPO1FBQ0xrQyxnQkFBZ0JmLFVBQVVnQixNQUFNO1FBQ2hDWDtRQUNBQztRQUNBUjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS10cmFpbmluZy1wb3J0YWwvLi9zcmMvbGliL3Njb3Jpbmcvc2VydmVyLnRzP2Q3MjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUE9JTlRTX1BFUl9RVUVTVElPTiwgRklSU1RfVFJZX0JPTlVTIH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB0eXBlIHsgUXVpelF1ZXN0aW9uIH0gZnJvbSBcIkAvbGliL3RyYWluaW5nXCI7XG5cbi8qKlxuICogRnJvbSBhIGxpc3Qgb2YgY29tcGxldGVkIGF0dGVtcHRzIChhbnkgdXNlciksIHJldHVybiBvbmx5IHRoZSBMQVRFU1QgYXR0ZW1wdFxuICogcGVyIHF1aXpJZC4gVGhpcyBlbnN1cmVzIGVhY2ggcXVpeiBjb250cmlidXRlcyBleGFjdGx5IG9uZSBzY29yZSB0byBhbnkgdG90YWwg4oCUXG4gKiByZXRyeWluZyBhIHF1aXogcmVwbGFjZXMsIG5vdCBhY2N1bXVsYXRlcywgdGhlIHByZXZpb3VzIGNvbnRyaWJ1dGlvbi5cbiAqL1xuZXhwb3J0IHR5cGUgQXR0ZW1wdEZvclNjb3JpbmcgPSB7XG4gIHF1aXpJZDogc3RyaW5nO1xuICBjb21wbGV0ZWRBdDogRGF0ZSB8IG51bGw7XG4gIHNjb3JlRWFybmVkOiBudW1iZXI7XG4gIGNvcnJlY3RBbnN3ZXJzOiBudW1iZXI7XG4gIHRvdGFsUXVlc3Rpb25zOiBudW1iZXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbGF0ZXN0QXR0ZW1wdHNQZXJRdWl6PFQgZXh0ZW5kcyBBdHRlbXB0Rm9yU2NvcmluZz4oYXR0ZW1wdHM6IFRbXSk6IFRbXSB7XG4gIGNvbnN0IG1hcCA9IG5ldyBNYXA8c3RyaW5nLCBUPigpO1xuICBmb3IgKGNvbnN0IGEgb2YgYXR0ZW1wdHMpIHtcbiAgICBpZiAoIWEuY29tcGxldGVkQXQpIGNvbnRpbnVlO1xuICAgIGNvbnN0IGV4aXN0aW5nID0gbWFwLmdldChhLnF1aXpJZCk7XG4gICAgaWYgKCFleGlzdGluZyB8fCAhZXhpc3RpbmcuY29tcGxldGVkQXQgfHwgYS5jb21wbGV0ZWRBdCA+IGV4aXN0aW5nLmNvbXBsZXRlZEF0KSB7XG4gICAgICBtYXAuc2V0KGEucXVpeklkLCBhKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIEFycmF5LmZyb20obWFwLnZhbHVlcygpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1bVNjb3JlKGF0dGVtcHRzOiBBdHRlbXB0Rm9yU2NvcmluZ1tdKTogbnVtYmVyIHtcbiAgcmV0dXJuIGF0dGVtcHRzLnJlZHVjZSgocywgYSkgPT4gcyArIGEuc2NvcmVFYXJuZWQsIDApO1xufVxuXG5leHBvcnQgdHlwZSBBbnN3ZXJQYXlsb2FkID0ge1xuICBxdWVzdGlvbklkOiBzdHJpbmc7XG4gIGZpcnN0U2VsZWN0ZWRJbmRleDogbnVtYmVyO1xuICBmaW5hbFNlbGVjdGVkSW5kZXg6IG51bWJlcjtcbn1bXTtcblxuZXhwb3J0IHR5cGUgU2NvcmVkUmVzdWx0ID0ge1xuICB0b3RhbFF1ZXN0aW9uczogbnVtYmVyO1xuICBjb3JyZWN0QW5zd2VyczogbnVtYmVyO1xuICBmaXJzdFRyeUNvcnJlY3Q6IG51bWJlcjtcbiAgc2NvcmVFYXJuZWQ6IG51bWJlcjtcbn07XG5cbi8qKlxuICogU2NvcmUgYSBxdWl6IGF0dGVtcHQgc2VydmVyLXNpZGUuXG4gKiBAcGFyYW0gcXVlc3Rpb25zICBUaGUgYXV0aG9yaXRhdGl2ZSBxdWVzdGlvbnMgZnJvbSB0cmFpbmluZy5qc29uXG4gKiBAcGFyYW0gYW5zd2VycyAgICBXaGF0IHRoZSB1c2VyIHN1Ym1pdHRlZCAoZmlyc3QgKyBmaW5hbCBjbGlja3MpXG4gKiBAcGFyYW0gaXNGaXJzdEF0dGVtcHQgIFdoZXRoZXIgdGhpcyBpcyB0aGUgdXNlcidzIGZpcnN0IGV2ZXIgYXR0ZW1wdCBmb3IgdGhpcyBxdWl6XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY29yZVF1aXpBdHRlbXB0KFxuICBxdWVzdGlvbnM6IFF1aXpRdWVzdGlvbltdLFxuICBhbnN3ZXJzOiBBbnN3ZXJQYXlsb2FkLFxuICBpc0ZpcnN0QXR0ZW1wdDogYm9vbGVhblxuKTogU2NvcmVkUmVzdWx0IHtcbiAgY29uc3QgYW5zd2VyTWFwID0gbmV3IE1hcChhbnN3ZXJzLm1hcCgoYSkgPT4gW2EucXVlc3Rpb25JZCwgYV0pKTtcblxuICBsZXQgY29ycmVjdEFuc3dlcnMgPSAwO1xuICBsZXQgZmlyc3RUcnlDb3JyZWN0ID0gMDtcblxuICBmb3IgKGNvbnN0IHEgb2YgcXVlc3Rpb25zKSB7XG4gICAgY29uc3QgYW5zd2VyID0gYW5zd2VyTWFwLmdldChxLmlkKTtcbiAgICBpZiAoIWFuc3dlcikgY29udGludWU7XG5cbiAgICBjb25zdCBpc0ZpbmFsQ29ycmVjdCA9IGFuc3dlci5maW5hbFNlbGVjdGVkSW5kZXggPT09IHEuYW5zd2VySW5kZXg7XG4gICAgY29uc3QgaXNGaXJzdENvcnJlY3QgPSBhbnN3ZXIuZmlyc3RTZWxlY3RlZEluZGV4ID09PSBxLmFuc3dlckluZGV4O1xuXG4gICAgaWYgKGlzRmluYWxDb3JyZWN0KSBjb3JyZWN0QW5zd2VycysrO1xuICAgIGlmIChpc0ZpbmFsQ29ycmVjdCAmJiBpc0ZpcnN0Q29ycmVjdCAmJiBpc0ZpcnN0QXR0ZW1wdCkgZmlyc3RUcnlDb3JyZWN0Kys7XG4gIH1cblxuICBjb25zdCBzY29yZUVhcm5lZCA9XG4gICAgY29ycmVjdEFuc3dlcnMgKiBQT0lOVFNfUEVSX1FVRVNUSU9OICsgZmlyc3RUcnlDb3JyZWN0ICogRklSU1RfVFJZX0JPTlVTO1xuXG4gIHJldHVybiB7XG4gICAgdG90YWxRdWVzdGlvbnM6IHF1ZXN0aW9ucy5sZW5ndGgsXG4gICAgY29ycmVjdEFuc3dlcnMsXG4gICAgZmlyc3RUcnlDb3JyZWN0LFxuICAgIHNjb3JlRWFybmVkLFxuICB9O1xufVxuIl0sIm5hbWVzIjpbIlBPSU5UU19QRVJfUVVFU1RJT04iLCJGSVJTVF9UUllfQk9OVVMiLCJsYXRlc3RBdHRlbXB0c1BlclF1aXoiLCJhdHRlbXB0cyIsIm1hcCIsIk1hcCIsImEiLCJjb21wbGV0ZWRBdCIsImV4aXN0aW5nIiwiZ2V0IiwicXVpeklkIiwic2V0IiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwic3VtU2NvcmUiLCJyZWR1Y2UiLCJzIiwic2NvcmVFYXJuZWQiLCJzY29yZVF1aXpBdHRlbXB0IiwicXVlc3Rpb25zIiwiYW5zd2VycyIsImlzRmlyc3RBdHRlbXB0IiwiYW5zd2VyTWFwIiwicXVlc3Rpb25JZCIsImNvcnJlY3RBbnN3ZXJzIiwiZmlyc3RUcnlDb3JyZWN0IiwicSIsImFuc3dlciIsImlkIiwiaXNGaW5hbENvcnJlY3QiLCJmaW5hbFNlbGVjdGVkSW5kZXgiLCJhbnN3ZXJJbmRleCIsImlzRmlyc3RDb3JyZWN0IiwiZmlyc3RTZWxlY3RlZEluZGV4IiwidG90YWxRdWVzdGlvbnMiLCJsZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/scoring/server.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/session.ts":
/*!****************************!*\
  !*** ./src/lib/session.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SESSION_COOKIE: () => (/* binding */ SESSION_COOKIE),\n/* harmony export */   SESSION_MAX_AGE: () => (/* binding */ SESSION_MAX_AGE),\n/* harmony export */   getSessionUser: () => (/* binding */ getSessionUser)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db */ \"(rsc)/./src/lib/db.ts\");\n\n\nconst SESSION_COOKIE = \"sid\";\nconst SESSION_MAX_AGE = 60 * 60 * 24; // 24 hours in seconds\n/** Read the current session from the cookie and return the user, or null. */ async function getSessionUser() {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n    const sessionId = cookieStore.get(SESSION_COOKIE)?.value;\n    if (!sessionId) return null;\n    const session = await _db__WEBPACK_IMPORTED_MODULE_1__.db.session.findUnique({\n        where: {\n            id: sessionId\n        },\n        include: {\n            user: true\n        }\n    });\n    if (!session) return null;\n    if (session.expiresAt && session.expiresAt < new Date()) {\n        await _db__WEBPACK_IMPORTED_MODULE_1__.db.session.delete({\n            where: {\n                id: sessionId\n            }\n        }).catch(()=>{});\n        return null;\n    }\n    return {\n        id: session.user.id,\n        externalId: session.user.externalId,\n        name: session.user.name,\n        role: session.user.role,\n        teamId: session.user.teamId\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3Nlc3Npb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBdUM7QUFDYjtBQUVuQixNQUFNRSxpQkFBaUIsTUFBTTtBQUM3QixNQUFNQyxrQkFBa0IsS0FBSyxLQUFLLEdBQUcsQ0FBQyxzQkFBc0I7QUFVbkUsMkVBQTJFLEdBQ3BFLGVBQWVDO0lBQ3BCLE1BQU1DLGNBQWNMLHFEQUFPQTtJQUMzQixNQUFNTSxZQUFZRCxZQUFZRSxHQUFHLENBQUNMLGlCQUFpQk07SUFDbkQsSUFBSSxDQUFDRixXQUFXLE9BQU87SUFFdkIsTUFBTUcsVUFBVSxNQUFNUixtQ0FBRUEsQ0FBQ1EsT0FBTyxDQUFDQyxVQUFVLENBQUM7UUFDMUNDLE9BQU87WUFBRUMsSUFBSU47UUFBVTtRQUN2Qk8sU0FBUztZQUFFQyxNQUFNO1FBQUs7SUFDeEI7SUFFQSxJQUFJLENBQUNMLFNBQVMsT0FBTztJQUNyQixJQUFJQSxRQUFRTSxTQUFTLElBQUlOLFFBQVFNLFNBQVMsR0FBRyxJQUFJQyxRQUFRO1FBQ3ZELE1BQU1mLG1DQUFFQSxDQUFDUSxPQUFPLENBQUNRLE1BQU0sQ0FBQztZQUFFTixPQUFPO2dCQUFFQyxJQUFJTjtZQUFVO1FBQUUsR0FBR1ksS0FBSyxDQUFDLEtBQU87UUFDbkUsT0FBTztJQUNUO0lBRUEsT0FBTztRQUNMTixJQUFJSCxRQUFRSyxJQUFJLENBQUNGLEVBQUU7UUFDbkJPLFlBQVlWLFFBQVFLLElBQUksQ0FBQ0ssVUFBVTtRQUNuQ0MsTUFBTVgsUUFBUUssSUFBSSxDQUFDTSxJQUFJO1FBQ3ZCQyxNQUFNWixRQUFRSyxJQUFJLENBQUNPLElBQUk7UUFDdkJDLFFBQVFiLFFBQVFLLElBQUksQ0FBQ1EsTUFBTTtJQUM3QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktdHJhaW5pbmctcG9ydGFsLy4vc3JjL2xpYi9zZXNzaW9uLnRzPzhkZjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29va2llcyB9IGZyb20gXCJuZXh0L2hlYWRlcnNcIjtcbmltcG9ydCB7IGRiIH0gZnJvbSBcIi4vZGJcIjtcblxuZXhwb3J0IGNvbnN0IFNFU1NJT05fQ09PS0lFID0gXCJzaWRcIjtcbmV4cG9ydCBjb25zdCBTRVNTSU9OX01BWF9BR0UgPSA2MCAqIDYwICogMjQ7IC8vIDI0IGhvdXJzIGluIHNlY29uZHNcblxuZXhwb3J0IHR5cGUgU2Vzc2lvblVzZXIgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGV4dGVybmFsSWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICByb2xlOiBzdHJpbmc7XG4gIHRlYW1JZDogc3RyaW5nO1xufTtcblxuLyoqIFJlYWQgdGhlIGN1cnJlbnQgc2Vzc2lvbiBmcm9tIHRoZSBjb29raWUgYW5kIHJldHVybiB0aGUgdXNlciwgb3IgbnVsbC4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXNzaW9uVXNlcigpOiBQcm9taXNlPFNlc3Npb25Vc2VyIHwgbnVsbD4ge1xuICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKTtcbiAgY29uc3Qgc2Vzc2lvbklkID0gY29va2llU3RvcmUuZ2V0KFNFU1NJT05fQ09PS0lFKT8udmFsdWU7XG4gIGlmICghc2Vzc2lvbklkKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZGIuc2Vzc2lvbi5maW5kVW5pcXVlKHtcbiAgICB3aGVyZTogeyBpZDogc2Vzc2lvbklkIH0sXG4gICAgaW5jbHVkZTogeyB1c2VyOiB0cnVlIH0sXG4gIH0pO1xuXG4gIGlmICghc2Vzc2lvbikgcmV0dXJuIG51bGw7XG4gIGlmIChzZXNzaW9uLmV4cGlyZXNBdCAmJiBzZXNzaW9uLmV4cGlyZXNBdCA8IG5ldyBEYXRlKCkpIHtcbiAgICBhd2FpdCBkYi5zZXNzaW9uLmRlbGV0ZSh7IHdoZXJlOiB7IGlkOiBzZXNzaW9uSWQgfSB9KS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGlkOiBzZXNzaW9uLnVzZXIuaWQsXG4gICAgZXh0ZXJuYWxJZDogc2Vzc2lvbi51c2VyLmV4dGVybmFsSWQsXG4gICAgbmFtZTogc2Vzc2lvbi51c2VyLm5hbWUsXG4gICAgcm9sZTogc2Vzc2lvbi51c2VyLnJvbGUsXG4gICAgdGVhbUlkOiBzZXNzaW9uLnVzZXIudGVhbUlkLFxuICB9O1xufVxuIl0sIm5hbWVzIjpbImNvb2tpZXMiLCJkYiIsIlNFU1NJT05fQ09PS0lFIiwiU0VTU0lPTl9NQVhfQUdFIiwiZ2V0U2Vzc2lvblVzZXIiLCJjb29raWVTdG9yZSIsInNlc3Npb25JZCIsImdldCIsInZhbHVlIiwic2Vzc2lvbiIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImlkIiwiaW5jbHVkZSIsInVzZXIiLCJleHBpcmVzQXQiLCJEYXRlIiwiZGVsZXRlIiwiY2F0Y2giLCJleHRlcm5hbElkIiwibmFtZSIsInJvbGUiLCJ0ZWFtSWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/session.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdashboard%2Fkpis%2Froute&page=%2Fapi%2Fdashboard%2Fkpis%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fkpis%2Froute.ts&appDir=%2FUsers%2Fcharleskr%2FDesktop%2FXBO%2FAI-Plateforme%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcharleskr%2FDesktop%2FXBO%2FAI-Plateforme&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();